<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"  
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"  
             x:Class="ToDoListApp.MainPage"  
             Title="To-Do List Manager">  

    <VerticalStackLayout Padding="20" Spacing="10">  

        <Entry x:Name="NewTaskEntry"  
               Placeholder="Dodaj nowe zadanie"  
               ReturnType="Done" />  

        <Button Text="Dodaj zadanie" Clicked="AddTask_Clicked" />  

        <HorizontalStackLayout Spacing="10">  
            <Button Text="Sortuj po dacie" Clicked="SortByDate_Clicked" />  
            <Button Text="Sortuj alfabetycznie" Clicked="SortAlphabetically_Clicked" />  
        </HorizontalStackLayout>  

        <ListView x:Name="TaskListView"  
                  ItemsSource="{Binding Tasks}"  
                  HasUnevenRows="True"  
                  Margin="0,10"  
                  SelectionMode="None">  
            <ListView.ItemTemplate>  
                <DataTemplate>  
                    <ViewCell>  
                        <Grid Padding="5">  
                            <Grid.ColumnDefinitions>  
                                <ColumnDefinition Width="Auto"/>  
                                <ColumnDefinition Width="*"/>  
                                <ColumnDefinition Width="Auto"/>  
                            </Grid.ColumnDefinitions>  
                            <CheckBox Grid.Column="0"  
                                      IsChecked="{Binding Status, Converter={StaticResource StatusToBoolConverter}}"  
                                      CheckedChanged="ToggleStatus"/>  
                            <Label Grid.Column="1"  
                                   Text="{Binding Text}"  
                                   VerticalOptions="Center"  
                                   TextDecorations="{Binding Status, Converter={StaticResource StatusToTextDecorationConverter}}" />
                            <Button Grid.Column="2"  
                                    Text="Usuń"
                                    Clicked="DeleteTask"  
                                    CommandParameter="{Binding .}"  
                                    BackgroundColor="Transparent"  
                                    TextColor="Red"/>

                        </Grid>  
                    </ViewCell>  
                </DataTemplate>  
            </ListView.ItemTemplate>  
        </ListView>  

        <Button Text="Resetuj listę" Clicked="ResetList_Clicked" BackgroundColor="IndianRed" TextColor="White"/>  
    </VerticalStackLayout>  
</ContentPage>
